@page "/genrespage/{Genre}"
@using Library.Data
@inject BookRepository BookRepo
@using Microsoft.AspNetCore.Components

@code {
    [Parameter] public string Genre { get; set; }
    private List<Book> books;

    protected override async Task OnParametersSetAsync()
    {
        books = await Task.FromResult(BookRepo.GetBooksByGenre(Genre));
    }

    private void ShowBookDetails(Book book)
    {
        // Optional: Zeige Details oder öffne ein Modal
    }
}

<h3>@Genre Bücher</h3>

@if (books == null)
{
    <p>Lade Bücher...</p>
}
else if (books.Count == 0)
{
    <p>Keine Bücher im Genre "@Genre" gefunden.</p>
}
else
{
    <div class="book-grid">
        @foreach (var book in books)
        {
            <div class="book-card" @onclick="() => ShowBookDetails(book)">
                <h4>@book.Title</h4>
                <p><strong>Autor:</strong> @book.Author</p>
                <p><strong>Genre:</strong> @book.Genre</p>
            </div>
        }
    </div>
}

