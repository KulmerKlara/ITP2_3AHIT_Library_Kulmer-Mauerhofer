@page "/genrespage/{Genre}"
@using Library.Data
@inject BookRepository BookRepo

<PageTitle>Bücher nach Genre</PageTitle>

<div class="genre-books-container">
    <h2>Bücher im Genre: @Genre</h2>

    @if (books == null)
    {
        <p>Lade Bücher...</p>
    }
    else if (!books.Any())
    {
        <p>Keine Bücher im Genre <strong>@Genre</strong> gefunden.</p>
    }
    else
    {
        <ul class="book-list">
            @foreach (var book in books)
            {
                <li class="book-item">
                    <strong>@book.Title</strong> von @book.Author<br />
                    <em>@book.Summary</em>
                </li>
            }
        </ul>
    }
</div>

@code {
    [Parameter]
    public string Genre { get; set; }

    private List<Book> books;

    protected override void OnInitialized()
    {
        books = BookRepo.GetBooksByGenre(Genre);
    }
}
